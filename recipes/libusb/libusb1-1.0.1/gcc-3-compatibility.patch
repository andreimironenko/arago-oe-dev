--- libusb-1.0.1/libusb/Makefile.am-orig	2009-05-19 22:41:07.000000000 +0200
+++ libusb-1.0.1/libusb/Makefile.am	2009-05-19 22:41:27.000000000 +0200
@@ -14,7 +14,7 @@
 AM_CFLAGS_EXT = -no-cpp-precomp
 endif
 
-libusb_1_0_la_CFLAGS = -fvisibility=hidden $(AM_CFLAGS) -pthread
+libusb_1_0_la_CFLAGS = $(AM_CFLAGS) -pthread
 libusb_1_0_la_SOURCES = libusbi.h core.c descriptor.c io.c sync.c $(OS_SRC)
 
 hdrdir = $(includedir)/libusb-1.0
--- libusb-1.0.1/libusb/Makefile.in-orig	2009-05-19 22:41:13.000000000 +0200
+++ libusb-1.0.1/libusb/Makefile.in	2009-05-19 22:41:42.000000000 +0200
@@ -210,7 +210,7 @@
 @OS_DARWIN_TRUE@OS_SRC = $(DARWIN_USB_SRC)
 @OS_LINUX_TRUE@OS_SRC = $(LINUX_USBFS_SRC)
 @OS_DARWIN_TRUE@AM_CFLAGS_EXT = -no-cpp-precomp
-libusb_1_0_la_CFLAGS = -fvisibility=hidden $(AM_CFLAGS) -pthread
+libusb_1_0_la_CFLAGS = $(AM_CFLAGS) -pthread
 libusb_1_0_la_SOURCES = libusbi.h core.c descriptor.c io.c sync.c $(OS_SRC)
 hdrdir = $(includedir)/libusb-1.0
 hdr_HEADERS = libusb.h
--- libusb-1.0.1/configure.ac-orig	2009-05-19 22:44:06.000000000 +0200
+++ libusb-1.0.1/configure.ac	2009-05-19 22:44:16.000000000 +0200
@@ -72,7 +72,7 @@
 CFLAGS="$saved_cflags"
 
 AC_DEFINE([API_EXPORTED], [__attribute__((visibility("default")))], [Default visibility])
-AM_CFLAGS="-std=gnu99 $inline_cflags -Wall -Wundef -Wunused -Wstrict-prototypes -Werror-implicit-function-declaration -Wno-pointer-sign -Wshadow"
+AM_CFLAGS="-std=gnu99 $inline_cflags -Wall -Wundef -Wunused -Wstrict-prototypes -Werror-implicit-function-declaration -Wshadow"
 
 AC_SUBST(AM_CFLAGS)
 AC_SUBST(AM_LDFLAGS)
